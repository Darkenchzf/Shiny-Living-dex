<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Pok√©dex Gen 4 ‚Äì Shiny Living Dex</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  background: linear-gradient(180deg, #1C2331, #2E3A59);
  font-family: "Trebuchet MS", Arial, sans-serif;
  margin: 0;
}

.container {
  max-width: 1300px;
  margin: auto;
  padding: 20px;
}

h1 {
  text-align: center;
  color: #E3F2FD;
  letter-spacing: 1px;
}

.search-box {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  margin-bottom: 18px;
  border-radius: 10px;
  border: none;
  outline: none;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(190px, 1fr));
  gap: 18px;
}

.pokemon-card { perspective: 1000px; }

.inner {
  position: relative;
  width: 100%;
  height: 300px;
  transition: transform 0.6s;
  transform-style: preserve-3d;
  cursor: pointer;
}

.pokemon-card.flipped .inner {
  transform: rotateY(180deg);
}

.face {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 18px;
  padding: 14px;
  box-sizing: border-box;
  box-shadow: 0 10px 20px rgba(0,0,0,0.6);
}

/* FACE AVANT */
.front {
  background: linear-gradient(180deg, #2E86C1, #1B4F72);
  color: #EAF2F8;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border: 2px solid rgba(255,255,255,0.2);
}

/* FACE ARRI√àRE */
.back {
  background: linear-gradient(180deg, #ECEFF1, #CFD8DC);
  transform: rotateY(180deg);
  font-size: 13px;
  color: #263238;
  border: 2px solid #90CAF9;
}

.images img {
  width: 72px;
}

.type {
  display: inline-block;
  padding: 4px 10px;
  margin: 2px;
  border-radius: 14px;
  font-size: 12px;
  font-weight: bold;
  color: white;
}

.type.Plante{background:#4CAF50}
.type.Feu{background:#EF5350}
.type.Eau{background:#42A5F5}
.type.√âlectrik{background:#FDD835;color:black}
.type.Glace{background:#4DD0E1;color:black}
.type.Combat{background:#E53935}
.type.Poison{background:#AB47BC}
.type.Sol{background:#A1887F}
.type.Vol{background:#7986CB}
.type.Psy{background:#EC407A}
.type.Insecte{background:#9CCC65;color:black}
.type.Roche{background:#BCAAA4}
.type.Spectre{background:#7E57C2}
.type.Dragon{background:#5C6BC0}
.type.T√©n√®bres{background:#424242}
.type.Acier{background:#B0BEC5;color:black}
.type.F√©e{background:#F48FB1}
.type.Normal{background:#BDBDBD;color:black}

.info {
  background: rgba(255,255,255,0.85);
  padding: 5px;
  border-radius: 8px;
  margin-top: 5px;
}

.status {
  margin-top: 8px;
  font-weight: bold;
}

/* BARRE DE PROGRESSION GEN 4 */
.progress {
  display: flex;
  gap: 2px;
  margin-bottom: 22px;
  padding: 6px;
  height: 26px;
  border-radius: 14px;
  background: linear-gradient(90deg, #0D47A1, #1976D2);
  box-shadow: inset 0 0 10px rgba(0,0,0,0.6);
}

.progress-segment {
  flex: 1;
  background: rgba(255,255,255,0.15);
  border-radius: 6px;
}

.progress-segment.caught {
  background: linear-gradient(90deg, #81D4FA, #B3E5FC);
}
</style>
</head>

<body>
<div class="container">
<h1>‚ùÑÔ∏è Pok√©dex Gen 4 ‚Äì Shiny Living Dex</h1>

<input id="commandInput" class="search-box" placeholder="!sld tortipouss">

<div class="progress"></div>
<div id="pokemonGrid" class="grid"></div>
</div>

<script>
function playCry(num){
  const cry = new Audio(
    `https://raw.githubusercontent.com/PokeAPI/cries/main/cries/pokemon/latest/${num}.ogg`
  );
  cry.volume = 0.6;
  cry.play();
}

const pokemonData = [
 {num: 387, nameFr: "Tortipouss", nameEn: "Turtwig", types: ["Plante"], height: "0.4 m", weight: "10.2 kg"},
  {num: 388, nameFr: "Boskara", nameEn: "Grotle", types: ["Plante"], height: "1.1 m", weight: "97.0 kg"},
  {num: 389, nameFr: "Torterra", nameEn: "Torterra", types: ["Plante", "Sol"], height: "2.2 m", weight: "310.0 kg"},
  {num: 390, nameFr: "Ouisticram", nameEn: "Chimchar", types: ["Feu"], height: "0.5 m", weight: "6.2 kg"},
  {num: 391, nameFr: "Chimpenfeu", nameEn: "Monferno", types: ["Feu", "Combat"], height: "0.9 m", weight: "22.0 kg"},
  {num: 392, nameFr: "Simiabraz", nameEn: "Infernape", types: ["Feu", "Combat"], height: "1.2 m", weight: "55.0 kg"},
  {num: 393, nameFr: "Tiplouf", nameEn: "Piplup", types: ["Eau"], height: "0.4 m", weight: "5.2 kg"},
  {num: 394, nameFr: "Prinplouf", nameEn: "Prinplup", types: ["Eau"], height: "0.8 m", weight: "23.0 kg"},
  {num: 395, nameFr: "Pingol√©on", nameEn: "Empoleon", types: ["Eau", "Acier"], height: "1.7 m", weight: "84.5 kg"},
  {num: 396, nameFr: "√âtourmi", nameEn: "Starly", types: ["Normal", "Vol"], height: "0.3 m", weight: "2.0 kg"},
  {num: 397, nameFr: "√âtourvol", nameEn: "Staravia", types: ["Normal", "Vol"], height: "0.6 m", weight: "15.5 kg"},
  {num: 398, nameFr: "√âtouraptor", nameEn: "Staraptor", types: ["Normal", "Vol"], height: "1.2 m", weight: "24.9 kg"},
  {num: 399, nameFr: "Keunotor", nameEn: "Bidoof", types: ["Normal"], height: "0.5 m", weight: "20.0 kg"},
  {num: 400, nameFr: "Castorno", nameEn: "Bibarel", types: ["Normal", "Eau"], height: "1.0 m", weight: "31.5 kg"},
  {num: 401, nameFr: "Crikzik", nameEn: "Kricketot", types: ["Insecte"], height: "0.3 m", weight: "2.2 kg"},
  {num: 402, nameFr: "M√©lokrik", nameEn: "Kricketune", types: ["Insecte"], height: "1.0 m", weight: "25.5 kg"},
  {num: 403, nameFr: "Lixy", nameEn: "Shinx", types: ["√âlectrik"], height: "0.5 m", weight: "9.5 kg"},
  {num: 404, nameFr: "Luxio", nameEn: "Luxio", types: ["√âlectrik"], height: "0.9 m", weight: "30.5 kg"},
  {num: 405, nameFr: "Luxray", nameEn: "Luxray", types: ["√âlectrik"], height: "1.4 m", weight: "42.0 kg"},
  {num: 406, nameFr: "Rozbouton", nameEn: "Budew", types: ["Plante", "Poison"], height: "0.2 m", weight: "1.2 kg"},
  {num: 407, nameFr: "Roserade", nameEn: "Roserade", types: ["Plante", "Poison"], height: "0.9 m", weight: "14.5 kg"},
  {num: 408, nameFr: "Kranidos", nameEn: "Cranidos", types: ["Roche"], height: "0.9 m", weight: "31.5 kg"},
  {num: 409, nameFr: "Charkos", nameEn: "Rampardos", types: ["Roche"], height: "1.6 m", weight: "102.5 kg"},
  {num: 410, nameFr: "Dinoclier", nameEn: "Shieldon", types: ["Roche", "Acier"], height: "0.5 m", weight: "57.0 kg"},
  {num: 411, nameFr: "Bastiodon", nameEn: "Bastiodon", types: ["Roche", "Acier"], height: "1.3 m", weight: "149.5 kg"},
  {num: 412, nameFr: "Cheniti", nameEn: "Burmy", types: ["Insecte"], height: "0.2 m", weight: "3.4 kg"},
  {num: 413, nameFr: "Cheniselle", nameEn: "Wormadam", types: ["Insecte", "Plante"], height: "0.5 m", weight: "6.5 kg"},
  {num: 414, nameFr: "Papilord", nameEn: "Mothim", types: ["Insecte", "Vol"], height: "0.9 m", weight: "23.3 kg"},
  {num: 415, nameFr: "Apitrini", nameEn: "Combee", types: ["Insecte", "Vol"], height: "0.3 m", weight: "5.5 kg"},
  {num: 416, nameFr: "Apireine", nameEn: "Vespiquen", types: ["Insecte", "Vol"], height: "1.2 m", weight: "38.5 kg"},
  {num: 417, nameFr: "Pachirisu", nameEn: "Pachirisu", types: ["√âlectrik"], height: "0.4 m", weight: "3.9 kg"},
  {num: 418, nameFr: "Must√©bou√©e", nameEn: "Buizel", types: ["Eau"], height: "0.7 m", weight: "29.5 kg"},
  {num: 419, nameFr: "Must√©flott", nameEn: "Floatzel", types: ["Eau"], height: "1.1 m", weight: "33.5 kg"},
  {num: 420, nameFr: "Ceribou", nameEn: "Cherubi", types: ["Plante"], height: "0.4 m", weight: "3.3 kg"},
  {num: 421, nameFr: "Ceriflor", nameEn: "Cherrim", types: ["Plante"], height: "0.5 m", weight: "9.3 kg"},
  {num: 422, nameFr: "Sancoki", nameEn: "Shellos", types: ["Eau"], height: "0.3 m", weight: "6.3 kg"},
  {num: 423, nameFr: "Tritosor", nameEn: "Gastrodon", types: ["Eau", "Sol"], height: "0.9 m", weight: "29.9 kg"},
  {num: 424, nameFr: "Capidextre", nameEn: "Ambipom", types: ["Normal"], height: "1.2 m", weight: "20.3 kg"},
  {num: 425, nameFr: "Baudrive", nameEn: "Drifloon", types: ["Spectre", "Vol"], height: "0.4 m", weight: "1.2 kg"},
  {num: 426, nameFr: "Grodrive", nameEn: "Drifblim", types: ["Spectre", "Vol"], height: "1.2 m", weight: "15.0 kg"},
  {num: 427, nameFr: "Laporeille", nameEn: "Buneary", types: ["Normal"], height: "0.4 m", weight: "5.5 kg"},
  {num: 428, nameFr: "Lockpin", nameEn: "Lopunny", types: ["Normal"], height: "1.2 m", weight: "33.3 kg"},
  {num: 429, nameFr: "Magir√™ve", nameEn: "Mismagius", types: ["Spectre"], height: "0.9 m", weight: "4.4 kg"},
  {num: 430, nameFr: "Corboss", nameEn: "Honchkrow", types: ["T√©n√®bres", "Vol"], height: "0.9 m", weight: "27.3 kg"},
  {num: 431, nameFr: "Chaglam", nameEn: "Glameow", types: ["Normal"], height: "0.5 m", weight: "3.9 kg"},
  {num: 432, nameFr: "Chaffreux", nameEn: "Purugly", types: ["Normal"], height: "1.0 m", weight: "43.8 kg"},
  {num: 433, nameFr: "Korillon", nameEn: "Chingling", types: ["Psy"], height: "0.2 m", weight: "0.6 kg"},
  {num: 434, nameFr: "Moufouette", nameEn: "Stunky", types: ["Poison", "T√©n√®bres"], height: "0.4 m", weight: "19.2 kg"},
  {num: 435, nameFr: "Moufflair", nameEn: "Skuntank", types: ["Poison", "T√©n√®bres"], height: "1.0 m", weight: "38.0 kg"},
  {num: 436, nameFr: "Arch√©omire", nameEn: "Bronzor", types: ["Acier", "Psy"], height: "0.5 m", weight: "60.5 kg"},
  {num: 437, nameFr: "Arch√©odong", nameEn: "Bronzong", types: ["Acier", "Psy"], height: "1.3 m", weight: "187.0 kg"},
  {num: 438, nameFr: "Manza√Ø", nameEn: "Bonsly", types: ["Roche"], height: "0.5 m", weight: "15.0 kg"},
  {num: 439, nameFr: "Mime Jr.", nameEn: "Mime Jr.", types: ["Psy", "F√©e"], height: "0.6 m", weight: "13.0 kg"},
  {num: 440, nameFr: "Ptiravi", nameEn: "Happiny", types: ["Normal"], height: "0.6 m", weight: "24.4 kg"},
  {num: 441, nameFr: "Pijako", nameEn: "Chatot", types: ["Normal", "Vol"], height: "0.5 m", weight: "1.9 kg"},
  {num: 442, nameFr: "Spiritomb", nameEn: "Spiritomb", types: ["Spectre", "T√©n√®bres"], height: "1.0 m", weight: "108.0 kg"},
  {num: 443, nameFr: "Griknot", nameEn: "Gible", types: ["Dragon", "Sol"], height: "0.7 m", weight: "20.5 kg"},
  {num: 444, nameFr: "Carmache", nameEn: "Gabite", types: ["Dragon", "Sol"], height: "1.4 m", weight: "56.0 kg"},
  {num: 445, nameFr: "Carchacrok", nameEn: "Garchomp", types: ["Dragon", "Sol"], height: "1.9 m", weight: "95.0 kg"},
  {num: 446, nameFr: "Goinfrex", nameEn: "Munchlax", types: ["Normal"], height: "0.6 m", weight: "105.0 kg"},
  {num: 447, nameFr: "Riolu", nameEn: "Riolu", types: ["Combat"], height: "0.7 m", weight: "20.2 kg"},
  {num: 448, nameFr: "Lucario", nameEn: "Lucario", types: ["Combat", "Acier"], height: "1.2 m", weight: "54.0 kg"},
  {num: 449, nameFr: "Hippopotas", nameEn: "Hippopotas", types: ["Sol"], height: "0.8 m", weight: "49.5 kg"},
  {num: 450, nameFr: "Hippodocus", nameEn: "Hippowdon", types: ["Sol"], height: "2.0 m", weight: "300.0 kg"},
  {num: 451, nameFr: "Rapion", nameEn: "Skorupi", types: ["Poison", "Insecte"], height: "0.8 m", weight: "12.0 kg"},
  {num: 452, nameFr: "Drascore", nameEn: "Drapion", types: ["Poison", "T√©n√®bres"], height: "1.3 m", weight: "61.5 kg"},
  {num: 453, nameFr: "Cradopaud", nameEn: "Croagunk", types: ["Poison", "Combat"], height: "0.7 m", weight: "23.0 kg"},
  {num: 454, nameFr: "Coatox", nameEn: "Toxicroak", types: ["Poison", "Combat"], height: "1.3 m", weight: "44.4 kg"},
  {num: 455, nameFr: "Vortente", nameEn: "Carnivine", types: ["Plante"], height: "1.4 m", weight: "27.0 kg"},
  {num: 456, nameFr: "√âcayon", nameEn: "Finneon", types: ["Eau"], height: "0.4 m", weight: "7.0 kg"},
  {num: 457, nameFr: "Lumin√©on", nameEn: "Lumineon", types: ["Eau"], height: "1.2 m", weight: "24.0 kg"},
  {num: 458, nameFr: "Babimanta", nameEn: "Mantyke", types: ["Eau", "Vol"], height: "1.0 m", weight: "65.0 kg"},
  {num: 459, nameFr: "Blizzi", nameEn: "Snover", types: ["Plante", "Glace"], height: "1.0 m", weight: "50.5 kg"},
  {num: 460, nameFr: "Blizzaroi", nameEn: "Abomasnow", types: ["Plante", "Glace"], height: "2.2 m", weight: "135.5 kg"},
  {num: 461, nameFr: "Dimoret", nameEn: "Weavile", types: ["T√©n√®bres", "Glace"], height: "1.1 m", weight: "34.0 kg"},
  {num: 462, nameFr: "Magn√©zone", nameEn: "Magnezone", types: ["√âlectrik", "Acier"], height: "1.2 m", weight: "180.0 kg"},
  {num: 463, nameFr: "Coudlangue", nameEn: "Lickilicky", types: ["Normal"], height: "1.7 m", weight: "140.0 kg"},
  {num: 464, nameFr: "Rhinastoc", nameEn: "Rhyperior", types: ["Sol", "Roche"], height: "2.4 m", weight: "282.8 kg"},
  {num: 465, nameFr: "Bouldeneu", nameEn: "Tangrowth", types: ["Plante"], height: "2.0 m", weight: "128.6 kg"},
  {num: 466, nameFr: "√âlekable", nameEn: "Electivire", types: ["√âlectrik"], height: "1.8 m", weight: "138.6 kg"},
  {num: 467, nameFr: "Maganon", nameEn: "Magmortar", types: ["Feu"], height: "1.6 m", weight: "68.0 kg"},
  {num: 468, nameFr: "Togekiss", nameEn: "Togekiss", types: ["F√©e", "Vol"], height: "1.5 m", weight: "38.0 kg"},
  {num: 469, nameFr: "Yanm√©ga", nameEn: "Yanmega", types: ["Insecte", "Vol"], height: "1.9 m", weight: "51.5 kg"},
  {num: 470, nameFr: "Phyllali", nameEn: "Leafeon", types: ["Plante"], height: "1.0 m", weight: "25.5 kg"},
  {num: 471, nameFr: "Givrali", nameEn: "Glaceon", types: ["Glace"], height: "0.8 m", weight: "25.9 kg"},
  {num: 472, nameFr: "Scorvol", nameEn: "Gliscor", types: ["Sol", "Vol"], height: "2.0 m", weight: "42.5 kg"},
  {num: 473, nameFr: "Mammochon", nameEn: "Mamoswine", types: ["Glace", "Sol"], height: "2.5 m", weight: "291.0 kg"},
  {num: 474, nameFr: "Porygon-Z", nameEn: "Porygon-Z", types: ["Normal"], height: "0.9 m", weight: "34.0 kg"},
  {num: 475, nameFr: "Gallame", nameEn: "Gallade", types: ["Psy", "Combat"], height: "1.6 m", weight: "52.0 kg"},
  {num: 476, nameFr: "Tarinorme", nameEn: "Probopass", types: ["Roche", "Acier"], height: "1.4 m", weight: "340.0 kg"},
  {num: 477, nameFr: "Noctunoir", nameEn: "Dusknoir", types: ["Spectre"], height: "2.2 m", weight: "106.6 kg"},
  {num: 478, nameFr: "Momartik", nameEn: "Froslass", types: ["Glace", "Spectre"], height: "1.3 m", weight: "26.6 kg"},
  {num: 479, nameFr: "Motisma", nameEn: "Rotom", types: ["√âlectrik", "Spectre"], height: "0.3 m", weight: "0.3 kg"},
  {num: 480, nameFr: "Cr√©helf", nameEn: "Uxie", types: ["Psy"], height: "0.3 m", weight: "0.3 kg"},
  {num: 481, nameFr: "Cr√©follet", nameEn: "Mesprit", types: ["Psy"], height: "0.3 m", weight: "0.3 kg"},
  {num: 482, nameFr: "Cr√©fadet", nameEn: "Azelf", types: ["Psy"], height: "0.3 m", weight: "0.3 kg"},
  {num: 483, nameFr: "Dialga", nameEn: "Dialga", types: ["Acier", "Dragon"], height: "5.4 m", weight: "683.0 kg"},
  {num: 484, nameFr: "Palkia", nameEn: "Palkia", types: ["Eau", "Dragon"], height: "4.2 m", weight: "336.0 kg"},
  {num: 485, nameFr: "Heatran", nameEn: "Heatran", types: ["Feu", "Acier"], height: "1.7 m", weight: "430.0 kg"},
  {num: 486, nameFr: "Regigigas", nameEn: "Regigigas", types: ["Normal"], height: "3.7 m", weight: "420.0 kg"},
  {num: 487, nameFr: "Giratina", nameEn: "Giratina", types: ["Spectre", "Dragon"], height: "4.5 m", weight: "750.0 kg"},
  {num: 488, nameFr: "Cresselia", nameEn: "Cresselia", types: ["Psy"], height: "1.5 m", weight: "85.6 kg"},
  {num: 489, nameFr: "Phione", nameEn: "Phione", types: ["Eau"], height: "0.4 m", weight: "3.1 kg"},
  {num: 490, nameFr: "Manaphy", nameEn: "Manaphy", types: ["Eau"], height: "0.3 m", weight: "1.4 kg"},
  {num: 491, nameFr: "Darkrai", nameEn: "Darkrai", types: ["T√©n√®bres"], height: "1.5 m", weight: "50.5 kg"},
  {num: 492, nameFr: "Shaymin", nameEn: "Shaymin", types: ["Plante"], height: "0.2 m", weight: "2.1 kg"},
  {num: 493, nameFr: "Arceus", nameEn: "Arceus", types: ["Normal"], height: "3.2 m", weight: "320.0 kg"}
];

let caughtPokemon =
 JSON.parse(localStorage.getItem("caughtPokemonGen4")) || [];

function normalize(t){
 return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");
}

function sprite(num,shiny=false){
 return `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon${shiny?"/shiny":""}/${num}.png`;
}

function render(){
 const grid = document.getElementById("pokemonGrid");
 grid.innerHTML = "";

 pokemonData.forEach(p=>{
  const caught = caughtPokemon.includes(p.num);
  const card = document.createElement("div");
  card.className = "pokemon-card";

  card.innerHTML = `
   <div class="inner">
    <div class="face front">
      <strong>#${p.num}</strong>
      <div>${p.nameFr}</div>
      ${caught ? `<img src="${sprite(p.num)}">` : "‚ùå"}
      <div class="status">${caught?"Captur√©":"Non captur√©"}</div>
    </div>

    <div class="face back">
      <h3>${p.nameFr}</h3>
      <div class="images">
        <img src="${sprite(p.num)}">
        <img src="${sprite(p.num,true)}">
      </div>
      <div>
        ${p.types.map(t=>`<span class="type ${t}">${t}</span>`).join("")}
      </div>
      <div class="info">üìè ${p.height}</div>
      <div class="info">‚öñÔ∏è ${p.weight}</div>
      <div class="info">üá¨üáß ${p.nameEn}</div>
      <div class="status">‚≠ê Shiny Living Dex</div>
    </div>
   </div>
  `;

  if(caught){
    card.onclick = () => {
      const revealed = card.classList.toggle("flipped");
      if(revealed) playCry(p.num);
    };
  }

  grid.appendChild(card);
 });
 updateProgress();
}

function updateProgress(){
 const progress = document.querySelector(".progress");
 progress.innerHTML="";
 for(let i=387;i<=493;i++){
  const seg=document.createElement("div");
  seg.className="progress-segment";
  if(caughtPokemon.includes(i)) seg.classList.add("caught");
  progress.appendChild(seg);
 }
}

document.getElementById("commandInput")
.addEventListener("keydown",e=>{
 if(e.key==="Enter"){
  const cmd=normalize(e.target.value.trim());
  e.target.value="";

  if(cmd.startsWith("!sld")){
   const name=cmd.replace("!sld","").trim();
   const p=pokemonData.find(
     x=>normalize(x.nameFr)===name || normalize(x.nameEn)===name
   );
   if(p && !caughtPokemon.includes(p.num)){
    caughtPokemon.push(p.num);
    localStorage.setItem(
      "caughtPokemonGen4",
      JSON.stringify(caughtPokemon)
    );
    playCry(p.num);
    render();
   }
  }

  if(cmd.startsWith("!sr")){
   const name=cmd.replace("!sr","").trim();
   const p=pokemonData.find(
     x=>normalize(x.nameFr)===name || normalize(x.nameEn)===name
   );
   if(p){
    caughtPokemon = caughtPokemon.filter(n=>n!==p.num);
    localStorage.setItem(
      "caughtPokemonGen4",
      JSON.stringify(caughtPokemon)
    );
    render();
   }
  }
 }
});

render();
</script>
</body>
</html>
